---
title: "ã€TypeScriptã€‘è‡ªç¤¾UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«MCPã‚µãƒ¼ãƒãƒ¼ã‚’ä½œã£ãŸè©±"
emoji: "ğŸ¤–"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [contest2025ts]
published: false
publication_name: "uniformnext"
---

# ã¯ã˜ã‚ã«

æœ€è¿‘ Zenn ã®è¨˜äº‹æŠ•ç¨¿ã‚’ã‚µãƒœã£ã¦ãŸãŸãã¿ã§ã™ã€‚

æœ€è¿‘ Claude Code ãŒã‚„ãŸã‚‰æµè¡Œã£ã¦ã¾ã™ã­ã€‚ã“ã® AI ãƒ–ãƒ¼ãƒ ã«ä¹—ã‚ŠãŸã„ã¨æ€ã„ã€**è‡ªç¤¾ UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã‚ã‚‹ã€ŒKurage UIã€ã® MCP ã‚µãƒ¼ãƒãƒ¼ã‚’ä½œã£ã¦ AI å°å…¥ã®ä¸€æ­©ã‚’è¸ã¿å‡ºã—ã¾ã—ãŸã€‚**

:::message
å®Ÿè£…æ–¹æ³•ã«ã¤ã„ã¦ã¯å¾Œè¿°ã—ã¦ã„ã¾ã™ãŒã€åˆå¿ƒè€…å‘ã‘ãªã®ã§ç„äººã®çš†ã•ã‚“ã¯èª­ã¿é£›ã°ã™ãªã‚Šã—ã¦ãã ã•ã„
:::

# èƒŒæ™¯

ç¾åœ¨ã€å¼Šç¤¾ãƒ¦ãƒ‹ãƒ•ã‚©ãƒ¼ãƒ ãƒã‚¯ã‚¹ãƒˆã§ã®æ–°è¦ SaaS ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã§ã¯ Next.jsï¼ˆReactï¼‰ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚
ä»¥å‰ã¯ UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã« Material UI ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã—ãŸãŒã€**æ©Ÿèƒ½ã®è±Šå¯Œã•ã‚„ãƒ‡ã‚¶ã‚¤ãƒ³ã®çµ±ä¸€æ€§ã‹ã‚‰**ã€ç¾åœ¨ã¯è‡ªç¤¾ UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã‚ã‚‹**Kurage UI**ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚
ã—ã‹ã—ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ã¯åŸºæœ¬çš„ã« Kurage UI ã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã€Vibe Coding ãªã©ã® **AI ä¸»å°**ã®é–‹ç™ºã¯ãªã‹ãªã‹æ‰‹ãŒå‡ºã›ã¾ã›ã‚“ã§ã—ãŸã€‚
ãã“ã§ã€Kurage UI ã« MCP ã‚µãƒ¼ãƒãƒ¼ã‚’ä½œæˆã—ã€AI ãŒ Kurage UI ã‚’æ´»ç”¨ã—ãªãŒã‚‰**è‡ªå¾‹çš„ã«é–‹ç™ºã‚’é€²ã‚ã‚‰ã‚Œã‚‹**ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚

# ä½¿ç”¨æŠ€è¡“

- Node.jsï¼ˆä¸€éƒ¨ bunï¼‰
- TypeScript
- Model Context Protocol TypeScript SDK

# MCPï¼ˆModel Context Protocolï¼‰ã¨ã¯

æœ€è¿‘ MCP ã«ã¤ã„ã¦è€³ã«ã™ã‚‹æ©Ÿä¼šãŒå¢—ãˆãŸã¨æ€ã„ã¾ã™ãŒã€å¿µã®ãŸã‚ç°¡å˜ã«èª¬æ˜ã—ã¦ãŠãã¾ã™ã€‚

AI ã«æœŸå¾…ã™ã‚‹ã“ã¨ã¨ã—ã¦ã€**ä½œæ¥­ã®è‡ªå‹•åŒ–**ãŒã¾ãšæŒ™ã’ã‚‰ã‚Œã¾ã™ã€‚ä¾‹ãˆã°ã€Google ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã§ç©ºã„ã¦ã„ã‚‹æ—¥ã‚’æ¢ã—äºˆå®šã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã‚„ã€Notion ã®ãƒ‡ãƒ¼ã‚¿ã‚’è¦ç´„ã—ã€ãã®çµæœã‚’ Slack ã§å…±æœ‰ã™ã‚‹ãªã©ã®ä½œæ¥­ã‚’ AI ã§ã§ãã‚‹ã¨ä¾¿åˆ©ã˜ã‚ƒãªã„ã§ã™ã‹ï¼Ÿ
ã“ã®ã‚ˆã†ã«ã€AI ã‚’ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¨ã—ã¦æ´»ç”¨ã—ã€ã‚ã‚‰ã‚†ã‚‹å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã‚’è‡ªå‹•åŒ–ã•ã›ãŸã„ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ãŒã‚ã‚Šã¾ã™ã€‚å¾“æ¥ã ã¨ã€å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã¨é€£æºã™ã‚‹ãŸã‚ã«ã¯ API ã‚µãƒ¼ãƒãƒ¼ã‚„ãƒ„ãƒ¼ãƒ«ã®å®Ÿè£…ã‚’å„ã‚µãƒ¼ãƒ“ã‚¹ã§è¡Œã‚ãªã‘ã‚Œã°ã„ã‘ã¾ã›ã‚“ã€‚ã—ã‹ã‚‚ã‚µãƒ¼ãƒ“ã‚¹ã«ã‚ˆã£ã¦ã“ã®ã‚µãƒ¼ãƒãƒ¼ã®ä»•æ§˜ãŒé•ã†ã¨ã‚ã‚Œã° AI ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚‚å›°ã‚Šã¾ã™ã€‚
ãã“ã§ã€ã“ã‚Œã‚‰ã‚’è¦æ ¼åŒ–ã™ã‚‹ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’ä½œæˆã™ã‚‹ã“ã¨ã§ã€AI ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒä½¿ç”¨ã™ã‚‹ãƒ„ãƒ¼ãƒ«ã®è¦æ ¼ã‚’çµ±ä¸€ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã®å½¹å‰²ã‚’æ‹…ã†ãƒ—ãƒ­ãƒˆã‚³ãƒ«ãŒ**MCP**ã§ã™ã€‚

## MCP ã®æ§‹æˆ

MCP ã§ã¯ AI ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯**MCP ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ**ã¨ **MCP ã‚µãƒ¼ãƒãƒ¼**ã‚’åˆ©ç”¨ã—ã¦å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã¨é€£æºã—ã¾ã™ã€‚

### MCP ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ

MCP ã‚µãƒ¼ãƒãƒ¼ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’ç®¡ç†ã™ã‚‹ãƒ¬ã‚¤ãƒ¤ãƒ¼ã§ã€MCP ã‚µãƒ¼ãƒãƒ¼ã¸ã®æ¥ç¶šã‚„ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®é€ä¿¡ã€çµæœã®å‡¦ç†ã‚’è¡Œã£ã¦ AI ã«æ¸¡ã—ã¾ã™ã€‚AI ã¯ãã®æƒ…å ±ï¼ˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆï¼‰ã‚’ã‚‚ã¨ã«å›ç­”ã‚’ç”Ÿæˆã—ã¾ã™ã€‚

### MCP ã‚µãƒ¼ãƒãƒ¼

MCP ã‚µãƒ¼ãƒãƒ¼ã¯ MCP ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘å–ã‚Šã€å®Ÿéš›ã«å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ“ä½œã‚’ã™ã‚‹ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«ãªã‚Šã¾ã™ã€‚
ä¾‹ãˆã°ã€MCP ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã€ŒGoogle ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã§ç©ºã„ã¦ã„ã‚‹æ—¥ã‚’æ¢ã—ã¦ã»ã—ã„ã€ã¨ã„ã†ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒãã‚‹ã¨ Google ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã® API ã‚’å©ãã€ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚’å–å¾—ã—ã€MCP ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¸è¿”ã™ã¨ã„ã†ãƒ•ãƒ­ãƒ¼ã‚’è¡Œã„ã¾ã™ã€‚

ã“ã®ã‚ˆã†ã«å„ã‚µãƒ¼ãƒ“ã‚¹ã® API ã®å‰ã« MCP ã‚µãƒ¼ãƒãƒ¼ã‚’è¨­ç½®ã—ã¦ãŠãã“ã¨ã§ã€MCP ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¯ã™ã¹ã¦ã®å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã‚’**åŒã˜ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ–¹æ³•**ã§åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

# MCP ã‚µãƒ¼ãƒãƒ¼ä½œæˆã®æ–¹é‡

Kurage UI ã® MCP ã‚µãƒ¼ãƒãƒ¼ã¯ä»¥ä¸‹ã®ãƒ„ãƒ¼ãƒ«ã‚’æŒã¤ã‚ˆã†ã«å®Ÿè£…ã—ã¾ã—ãŸã€‚

- ã™ã¹ã¦ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ã‚’å–å¾—ã™ã‚‹ãƒ„ãƒ¼ãƒ«ï¼ˆ`get_available_components_and_utilities`ï¼‰
  - AI ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ ãŒã©ã®ã‚ˆã†ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ãŒã‚ã‚‹ã‹ã©ã†ã‹ã‚’æŠŠæ¡ã™ã‚‹ãŸã‚ã€‚
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—ã™ã‚‹ãƒ„ãƒ¼ãƒ«ï¼ˆ`get_component`ï¼‰
  - AI ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ ãŒç‰¹å®šã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹•ä½œã‚’ç†è§£ã™ã‚‹ãŸã‚ã€‚
- ãƒ¦ãƒ¼ãƒªãƒ†ã‚£ãƒ†ã‚£é–¢æ•°ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—ã™ã‚‹ãƒ„ãƒ¼ãƒ«ï¼ˆ`get_utility`ï¼‰
  - AI ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ ãŒç‰¹å®šã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ã®å‹•ä½œã‚’ç†è§£ã™ã‚‹ãŸã‚ã€‚

ã“ã‚Œã‚‰ã®ãƒ„ãƒ¼ãƒ«ã‚’åˆ©ç”¨ã—ã¦ã€AI ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯ä»¥ä¸‹ã®ãƒ•ãƒ­ãƒ¼ã§æƒ…å ±ã‚’å–å¾—ã—ã¾ã™ã€‚

1. `get_available_components_and_utilities`ã‚’ä½¿ç”¨ã—ã¦ä½¿ç”¨å¯èƒ½ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ã‚’å–å¾—ã€‚
2. è¿”ã•ã‚ŒãŸæƒ…å ±ã‹ã‚‰ã€è³ªå•ã«æœ€ã‚‚è¿‘ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚„ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ã‚’åˆ¤æ–­ã—ã€`get_component`ã¾ãŸã¯`get_utility`ã‚’ä½¿ç”¨ã—ã¦ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—ã€‚
3. å–å¾—ã—ãŸã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ AI ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒç†è§£ã—ã€ãã‚Œã‚’ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã¨ã—ã¦å›ç­”ã‚’ç”Ÿæˆã€‚

# å®Ÿè£…

æ–¹é‡ãŒæ±ºã¾ã£ãŸã®ã§ã€å®Ÿéš›ã«å®Ÿè£…ã—ã¦ã„ãã¾ã™ã€‚

## Kurage UI ã®æ§‹æˆ

ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’è¿”ã™ãŸã‚ã€å¿…è¦ãªéƒ¨åˆ†ã®æ§‹æˆã®ã¿æç¤ºã—ã¾ã™ã€‚

```bash
/
â”œâ”€ src
â”‚  â”œâ”€ components                # ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå±ã—ã¦ã„ã‚‹ã‚«ãƒ†ã‚´ãƒªå
â”‚  â”‚  â””â”€ Test
â”‚  â”‚     â”œâ”€ Test.stories.tsx    # Storybookç”¨
â”‚  â”‚     â”œâ”€ Test.css.ts         # ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½¿ç”¨ã—ã¦ã„ã‚‹CSS
â”‚  â”‚     â”œâ”€ Test.tsx            # ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæœ¬ä½“ã®ã‚³ãƒ¼ãƒ‰
â”‚  â”‚     â””â”€ index.ts            # ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’exportã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«
â”‚  â”œâ”€ index.ts                  # ã‚«ãƒ†ã‚´ãƒªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä»¥ä¸‹ã®exportã•ã‚ŒãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã¾ã¨ã‚ã¦exportã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«
â”‚  â”œâ”€ utility                   # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ãŒå±ã—ã¦ã„ã‚‹ã‚«ãƒ†ã‚´ãƒªå
â”‚  â”‚  â”œâ”€ function.ts            # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°æœ¬ä½“ã®ã‚³ãƒ¼ãƒ‰
â”‚  â”‚  â””â”€ index.ts               # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ã‚’exportã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«
â”‚  â””â”€ index.ts                  # ã™ã¹ã¦ã®ã‚«ãƒ†ã‚´ãƒªã‹ã‚‰exportã•ã‚ŒãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã¾ã¨ã‚ã¦exportã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«
â””â”€ package.json
```

å„`index.ts`ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚

```typescript:src/components/index.ts
export * from "./Test";
```

```typescript:src/components/Test/index.ts
export * from "./Test";
```

```typescript:src/utility/index.ts
export * from "./function";
```

```typescript:src/index.ts
export * from "./components";
export * from "./utility";
```

## ç’°å¢ƒæ§‹ç¯‰

### MCP ã‚µãƒ¼ãƒãƒ¼ç”¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ç”¨æ„

MCP ã‚µãƒ¼ãƒãƒ¼ç”¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ç”¨æ„ã—ã€npm ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã—ã¦ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚ï¼ˆä¾å­˜ãŒæ€–ã‹ã£ãŸã®ã§ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã«ã¯ã—ã¦ã„ã¾ã›ã‚“ã€‚ï¼‰

```bash
mkdir mcp
cd $_
npm init
mkdir src
```

### ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

MCP ã‚µãƒ¼ãƒãƒ¼ã‚’ä½œæˆã™ã‚‹éš›ã®ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

```bash
npm install @modelcontextprotocol/sdk zod
npm install -D @types/node typescript
```

## å®Ÿè£…

æº–å‚™ãŒã§ããŸã®ã§å®Ÿè£…ã‚’ã—ã¦ã„ãã¾ã™ï¼

### ç¾åœ¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

å®Ÿè£…ã§ã¯ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆãŒã¨ã¦ã‚‚å¤§äº‹ã«ãªã‚‹ã®ã§ä¸€åº¦ã“ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã®æ§‹æˆã‚’å†åº¦æç¤ºã—ã¾ã™ã€‚
:::details ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```bash
/
â”œâ”€ src
â”‚  â”œâ”€ components
â”‚  â”‚  â””â”€ Test
â”‚  â”‚     â”œâ”€ Test.stories.tsx
â”‚  â”‚     â”œâ”€ Test.css.ts
â”‚  â”‚     â”œâ”€ Test.tsx
â”‚  â”‚     â””â”€ index.ts
â”‚  â”œâ”€ index.ts
â”‚  â”œâ”€ utility
â”‚  â”‚  â”œâ”€ function.ts
â”‚  â”‚  â””â”€ index.ts
â”‚  â””â”€ index.ts
â”œâ”€ mcp
â”‚  â”œâ”€ src
â”‚  â”‚  â””â”€ index.ts
â”‚  â””â”€ package.json
â””â”€ package.json
```

:::

### ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°

`mcp/src/index.ts`ã« MCP ã‚µãƒ¼ãƒãƒ¼ã‚’å®Ÿè£…ã—ã¦ã„ãã¾ã™ã€‚

#### MCP ã‚µãƒ¼ãƒãƒ¼ã®åˆæœŸåŒ–

```typescript:mcp/src/index.ts
import { McpServer } from "@modelcontextprotocol/sdk/server/mcp.js";
import { z } from "zod";

import path from "path";
import fs from "fs/promises";

const server = new McpServer({
  name: "mcp-server",
  version: "1.0.0",
})
```

#### åˆ©ç”¨å¯èƒ½ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ã‚’å–å¾—ã™ã‚‹ãƒ„ãƒ¼ãƒ«

```typescript:mcp/src/index.ts
/* index.tsã‹ã‚‰åå‰ã‚’å–å¾— */
const getNamesFromIndexContent = (indexContent: string) =>
  indexContent
    .split('\n')
    .filter((line) => line.trim().startsWith('export * from'))
    .map((line) => {
      const match = line.match(/['"]\.\/(.+)['"]/);
      return match ? match[1] : '';
    })
    .filter((name) => name.length > 0);

server.tool("get_available_components_and_utilities", "åˆ©ç”¨å¯èƒ½ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ã‚’å–å¾—ã™ã‚‹ãƒ„ãƒ¼ãƒ«", {}, async () => {
  /* ãƒ«ãƒ¼ãƒˆã®ãƒ‘ã‚¹ */
  const rootDir = path.resolve(__dirname, "../../");
  /* ã‚«ãƒ†ã‚´ãƒªåˆ¥ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ‘ã‚¹ */
  const categoryIndexPath = path.resolve(rootDir, "src", "index.ts");
  /* ã‚«ãƒ†ã‚´ãƒªåˆ¥ã®index.tsã®å†…å®¹ */
  const categoryIndexContent = await fs.readFile(categoryIndexPath, "utf-8");

  /* index.tsã‹ã‚‰ã‚«ãƒ†ã‚´ãƒªã®åå‰ä¸€è¦§ã‚’å–å¾— */
  const categoryNames = getNamesFromIndexContent(categoryIndexContent);

  const componentAndUtilityNames = await Promise.all(
    categoryNames.map(async (categoryName) => {
      /* ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¾ãŸã¯ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ã®ãƒ‘ã‚¹ */
      const componentAndUtilityIndexPath = path.resolve(rootDir, "src", categoryName, "index.ts");

      /* ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¾ãŸã¯ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ã®index.tsã®å†…å®¹ */
      const componentAndUtilityIndexContent = await fs.readFile(componentAndUtilityIndexPath, "utf-8");

      /* index.tsã‹ã‚‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¾ãŸã¯ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ã®åå‰ã‚’å–å¾— */
      const componentAndUtilityNames = getNamesFromIndexContent(
        componentAndUtilityIndexContent
      );

      /* ã‚«ãƒ†ã‚´ãƒªã‚‚è¿”ã™ */
      return componentAndUtilityNames.map((name) => ({
        name,
        category: categoryName,
      }));
    })
  )

  return {
    content: [
      {
        type: "text",
        text: componentAndUtilityNames.flat().map((item) => `category:${item.category},name:${item.name}`)).join("\n");
      }
    ]
  }
})
```

#### ç‰¹å®šã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å–å¾—

`get_components`ã ã‘æ²ç¤ºã—ã¾ã™ï¼ˆ`get_utility`ã‚‚ä¼¼ãŸã‚ˆã†ãªå®Ÿè£…ï¼‰ã€‚

```typescript:src/mcp/index.ts
server.tool(
  'get_component',
  'ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—ã™ã‚‹',
  {
    /* MCPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã¨ã—ã¦`componentName`ã¨`category`ã‚’å–å¾— */
    parameters: z.object({
      componentName: z.string(),
      categoryName: z.string(),
    }),
  },
  async ({ parameters }) => {
    const { componentName, categoryName } = parameters;

    /* ãƒ«ãƒ¼ãƒˆã®ãƒ‘ã‚¹ */
    const rootDir = path.resolve(__dirname, '../../');

    /* ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ‘ã‚¹ */
    const componentPath = path.join(rootDir, 'src', categoryName, componentName);

    try {
      /* ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ‘ã‚¹ãŒå­˜åœ¨ã™ã‚‹ã‹ç¢ºèª */
      await fs.access(componentPath);

      /* ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ‘ã‚¹å†…ã®ã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å–å¾— */
      const files = await fs.readdir(componentPath);

      const fileContents: Record<string, string> = {};

      /* ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ‘ã‚¹å†…ã®ã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å±•é–‹ã—ã€fileContentsã«æ ¼ç´ */
      for (const file of files) {
        const filePath = path.join(componentPath, file);
        try {
          const content = await fs.readFile(filePath, 'utf-8');

          fileContents[file] = content;
        } catch (error) {
          console.error(`Error reading file ${filePath}:`, error);
        }
      }

      return {
        content: [
          {
            type: "text",
            text: `${componentName}\nAvailable files:\n${files.join('\n')}\ncontents:\n${Object.entries(fileContents)
                      .map(([file, content]) => `=== ${file} ===\n${content}\n`)
                      .join('\n')}`,
          }
        ]
      }
    } catch (error) {
      return {
        content: [
          {
            type: "text",
            text: `Component ${componentName} not found: ${error instanceof Error ? error.message : 'unknown error'}`,
          }
        ]
      }
    }
  },
);
```

### é…å¸ƒ

DevContainer ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ãŸã‚ã€ãƒ•ã‚¡ã‚¤ãƒ«ã§é…å¸ƒã™ã‚‹ã®ã¯å›°é›£ã ã¨æ„Ÿã˜ã€**Docker ã‚¤ãƒ¡ãƒ¼ã‚¸**ã‚’ä½œæˆã—ã€MCP ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒ Docker ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ MCP ã‚µãƒ¼ãƒãƒ¼ã‚’å®Ÿè¡Œã™ã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚
Docker build ã‚³ãƒãƒ³ãƒ‰ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã‹ã‚‰å®Ÿè¡Œã™ã‚‹ã‚ˆã†ã« npm script ã‚’çµ„ã¿ã¾ã—ãŸã€‚

```Dockerfile:mcp/Dockerfile
FROM oven/bun AS base

FROM base AS build

WORKDIR /app/mcp

COPY ./mcp/package.json .

RUN bun install

FROM base AS runner

WORKDIR /app

COPY ./mcp ./mcp
COPY ./src ./src

COPY --from=build /app/mcp/node_modules ./node_modules

WORKDIR /app/mcp

RUN bun run build

CMD ["bun", "run", "dist/index.js"]
```

```sh:mcp/scripts/build-mcp.sh
sudo docker build -t mcp . -f mcp/Dockerfile
```

```json:package.json
...
"scripts": {
  "mcp": "bash mcp/scripts/build-mcp.sh",
}
```

ã“ã†ã™ã‚‹ã“ã¨ã§ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã§`npm run mcp`ã‚’å®Ÿè¡Œã™ã‚‹ã¨ MCP ã‚µãƒ¼ãƒãƒ¼ã® Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒä½œã‚‰ã‚Œã€MCP ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ docker ã‚³ãƒãƒ³ãƒ‰ã‚’å©ã‘ã°å®Ÿè¡Œã§ãã‚‹çŠ¶æ…‹ã«ãªã‚Šã¾ã™ï¼

### å‹•ä½œç¢ºèª

æ§‹ç¯‰ã—ãŸ MCP ã‚µãƒ¼ãƒãƒ¼ã‚’ MCP ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰å‹•ä½œã•ã›ã¦ã¿ã¾ã™ã€‚

#### Github Copilot + VsCode

```json:.vscode/mcp.json
{
  "servers": {
    "kurage-ui-mcp": {
      "command": "sudo docker",
      "args": [
        "run",
        "-i",
        "--rm",
        "kurage-ui-mcp",
      ],
    }
  }
}
```

#### Cursor

```json:.cursor/mcp.json
{
  "mcpServers": {
    "kurage-ui-mcp": {
      "command": "sudo docker",
      "args": [
        "run",
        "-i",
        "--rm",
        "kurage-ui-mcp"
      ]
    }
  }
}
```

ã“ã‚Œã‚‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¨­ç½®ã—ã¦ã€ãƒãƒ£ãƒƒãƒˆã§ Kurage UI ã«ã¤ã„ã¦è³ªå•ã™ã‚‹ã¨ MCP ã‚µãƒ¼ãƒãƒ¼ã‚’å‚ç…§ã—ã¦å›ç­”ã—ã¦ãã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸï¼

# æœ€å¾Œã«

è‡ªç¤¾ UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆKurage UIï¼‰ã‚’ç”¨ã„ãŸ Vibe Coding ã‚’ã™ã‚‹ãŸã‚ã« MCP ã‚µãƒ¼ãƒãƒ¼ã‚’å®Ÿè£…ã—ã¾ã—ãŸï¼
å®Ÿè£…è‡ªä½“ã¯ãã“ã¾ã§é›£ã—ããªãã€ä»Šå¾Œåˆ¥ã®ã‚µãƒ¼ãƒ“ã‚¹ã«å¯¾ã—ã¦ã‚‚ MCP ã‚µãƒ¼ãƒãƒ¼ã‚’ä½œã‚‹ã®ã‚‚æœ‰åŠ¹ã ã¨æ„Ÿã˜ã¾ã—ãŸã€‚
ä»Šå¾Œã®å±•æœ›ã¨ã—ã¦ã€ç¤¾å†… AI ãƒãƒ£ãƒƒãƒˆã‚·ã‚¹ãƒ†ãƒ ã«çµ„ã¿è¾¼ã‚€ã“ã¨ã§ã€é–‹ç™ºã®éš›ã« Kurage UI ã«ã¤ã„ã¦è³ªå•ã™ã‚‹ã“ã¨ãŒã§ãã€**ç”Ÿç”£æ€§ã®å‘ä¸ŠãŒæœŸå¾…ã§ããã†ã§ã™ï¼**

ãŸã ã—ã€ã‚‚ã£ã¨ã‚»ã‚­ãƒ¥ã‚¢ã«ã™ã‚‹ãŸã‚ã«ã¯èªè¨¼ã‚‚çµ„ã¿è¾¼ã‚ã‚‹ã¨ã„ã„ã®ã‹ãªã¨ã‚‚æ€ã„ã¾ã—ãŸã€‚

ã›ã£ã‹ã MCP ã‚µãƒ¼ãƒãƒ¼æ§‹ç¯‰ã—ãŸã®ã§ã€ã“ã®èª¿å­ã§ä¼šç¤¾ã« AI ã‚’å°å…¥ã§ãã¦ã„ã‘ãŸã‚‰ãªã¨æ€ã„ã¾ã™ã€‚
